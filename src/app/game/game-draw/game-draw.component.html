<div id="drawingContainer">
  <div class="topContent">
    <div id="iAvatarContainer">
      <app-i-avatar [color]="CustomColorsIO.white" [height]="100" [width]="60" />
      <app-speech-bubble
        [pointerSide]="PointerSide.Left"
        [arrowAlignment]="ArrowAlignment.Center"
        [isFlipped]="false"
        [textColor]="CustomColorsIO.white"
        [bubbleColor]="CustomColorsIO.blue"
        [bubbleSize]="'small'"
      >
        <p slot="body-alt">
          <span id="drawLabel">{{ 'DRAW_LABEL' | translate }} </span>
          <span id="guessWord">{{ guessWord | uppercase }} </span>
        </p>
      </app-speech-bubble>
    </div>
    <div id="oAvatarContainer">
      <app-speech-bubble
        [pointerSide]="PointerSide.Right"
        [arrowAlignment]="ArrowAlignment.Center"
        [isFlipped]="false"
        [textColor]="CustomColorsIO.white"
        [bubbleColor]="CustomColorsIO.purple"
        [bubbleSize]="'small'"
      >
        <p id="guessText" slot="body-alt">
          {{ 'AI_THINKING_LABEL' | translate }}
          @if (AI_GUESS) {
          {{ 'AI_GUESS_LABEL' | translate }}
          }
          <span #aiGuess id="aiGuess">{{ AI_GUESS | uppercase }}</span>
        </p>
      </app-speech-bubble>
      <app-o-avatar
        alt="Character 'O' guessing what is drawn on the canvas"
        class="guessingAvatar"
        [color]="CustomColorsIO.white"
        [height]="100"
        [width]="120"
      />
    </div>
  </div>
  <div id="drawingSurface">
    <ng-content class="topContent" id="drawingInfo">
      <button class="mat-raised-button" id="deleteButton" (click)="clear()">
        <span id="buttonContent">
          <img
            alt="Trash can icon"
            src="../assets/icons/trash-can-hand-drawn-symbol-svgrepo-com.svg"
            id="deleteIcon"
            class="icon"
            aria-label="delete icon"
          />
          <span id="deleteText"> {{ 'CLEAR_BUTTON' | translate }} </span>
        </span>
      </button>
      <div id="timerContainer">
        <div #countDown id="countDown">
          <svg
            #timerIcon
            id="timerIcon"
            class="icon"
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            width="2rem"
            height="2rem"
            viewBox="0 0 459.065 459.065"
            xml:space="preserve"
            fill="#707070"
            stroke="#707070"
            stroke-width="6.885974999999999"
          >
            <g id="SVGRepo_bgCarrier" stroke-width="0" />
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" />
            <g id="SVGRepo_iconCarrier">
              <g>
                <g>
                  <path
                    d="M423.005,8.058c-1.057-4.466-4.54-8.203-10.521-8.054l0,0C339.117,1.792,288.322,1.881,214.94,1.886 c-0.833,0-1.602,0.094-2.338,0.236c-0.739-0.142-1.508-0.236-2.341-0.236c-73.375,0-90.312-0.094-163.671-1.882l0,0 c-5.984-0.145-9.463,3.593-10.524,8.054c-0.343,1.036-0.625,2.107-0.764,3.229c-1.762,14.239,0.467,27.949,6.162,40.964 c0.67,5.035,4.243,9.673,10.768,9.833c2.168,0.053,4.275,0.104,6.345,0.155c3.931,34.769,19.692,61.941,46.646,84.998 c27.863,23.826,45.438,45.801,69.657,73.61c-48.81,33.005-88.255,114.892-98.724,177.549c-6.094,0.147-12.189,0.244-18.283,0.442 c-1.062,0.035-2.016,0.218-2.922,0.467c-7.086-0.416-14.543,5.144-11.72,13.822c3.407,10.476,5.695,21.13,7.525,31.981 c0.011,0.091,0.056,0.162,0.076,0.243c0.541,5.154,4.119,9.923,10.812,9.923c53.344,0.005,106.66,0.208,159.905,3.763 c0.277,0.025,0.525-0.163,0.754-0.437c1.171,0.34,2.455,0.538,3.925,0.437c53.248-3.555,117.855-3.758,171.194-3.763 c6.692,0,10.268-4.769,10.812-9.923c0.025-0.086,0.065-0.157,0.076-0.243c1.833-10.852,4.123-21.506,7.525-31.981 c2.823-8.679-4.637-14.238-11.721-13.822c-0.903-0.254-1.868-0.437-2.925-0.467c-6.093-0.198-12.187-0.295-18.28-0.442 c-10.471-62.657-49.917-144.544-98.727-177.549c24.223-27.814,41.792-49.784,69.655-73.61 c26.959-23.057,42.711-50.229,46.651-84.998c2.062-0.051,4.179-0.096,6.337-0.155c6.525-0.16,10.105-4.799,10.775-9.833 c5.688-13.015,7.922-26.725,6.165-40.964C423.625,10.166,423.351,9.094,423.005,8.058z M390.176,421.152 c-0.919,3.829-1.711,7.692-2.453,11.572c-50.109,0.036-111.477,0.401-161.495,3.737c-1.381,0.097-2.595,0.432-3.712,0.884 c-0.287-0.518-0.602-0.858-0.962-0.884c-50.018-3.336-100.097-3.701-150.201-3.737c-0.744-3.88-1.534-7.743-2.455-11.572 c50.891-1.422,101.765-1.376,152.651,0.264c0.302,0.011,0.561-0.224,0.808-0.554c1.157,0.366,2.417,0.6,3.867,0.554 C277.121,419.776,339.285,419.73,390.176,421.152z M259.088,216.298c-3.108,4.096-2.631,8.127-0.386,11.154 c0.67,2.295,2.062,4.463,4.438,6.169c42.371,30.443,85.858,108.567,97.051,164.228c-40.888-0.655-93.06-0.325-133.957,0.99 c-1.404,0.046-2.631,0.345-3.768,0.767c-0.271-0.452-0.569-0.757-0.912-0.767c-40.89-1.315-81.778-1.646-122.664-0.99 c11.189-55.66,54.677-133.784,97.045-164.228c2.376-1.706,3.763-3.874,4.44-6.169c2.25-3.021,2.725-7.053-0.386-11.154 c-40.751-53.71-108.979-80.598-118.848-153.52c49.14,1.157,69.678,1.528,131.009,3.067c0.163,0.005,0.297-0.031,0.455-0.031 c0.16,0,0.294,0.036,0.457,0.031c61.329-1.534,115.734-1.91,164.869-3.067C368.067,135.701,299.839,162.594,259.088,216.298z M398.519,39.674c-69.334,1.582-116.123,1.861-185.455,3.598c-0.163,0.007-0.297,0.048-0.457,0.058 c-0.157-0.01-0.292-0.051-0.455-0.058c-69.334-1.737-82.255-2.011-151.595-3.598c-2.054-5.474-3.062-11.131-3.24-16.895 c69.787,1.549,83.152,1.676,152.954,1.681c0.833,0,1.602-0.094,2.341-0.234c0.736,0.14,1.508,0.234,2.339,0.234 c69.802,0,117.027-0.132,186.818-1.681C401.586,28.542,400.576,34.2,398.519,39.674z"
                  />
                  <path
                    d="M135.945,116.748c-3.527,3.785-4.753,9.82-0.203,14.678c25.984,27.73,52.913,38.593,81.431,63.731 c1.513,1.331,3.125,2.084,4.748,2.468c2.999,2.523,7.241,3.473,11.662,0.962c37.552-21.335,67.725-35.828,92.317-71.076 c5.394-7.721-1.579-15.133-9.003-15.435c-1.107-0.358-2.315-0.587-3.707-0.543c-56.056,1.699-112.117,1.648-168.17,0 C140.474,111.39,137.468,113.663,135.945,116.748z M295.223,133.172c-18.778,23.499-40.832,27.929-66.684,43.643 c-21.345-19.015-41.822-23.003-61.682-43.554C209.646,134.188,252.431,134.188,295.223,133.172z"
                  />
                  <path
                    d="M223.24,247.774c-1.805-0.07-3.725,0.341-5.69,1.498c-43.792,25.888-72.663,66.821-84.538,116.098 c-0.889,3.692,0.079,6.76,1.955,9.034c0.66,4.596,3.994,8.49,10.057,7.952c55.987-4.997,112.063-3.52,168.165-1.772 c7.384,0.229,10.74-5.824,10.166-11.526c0.457-1.625,0.568-3.438,0.081-5.454c-12.177-50.444-43.27-92.526-89.85-116.098 C229.776,245.581,226.114,246.042,223.24,247.774z M300.098,358.961c-47.911-1.427-95.801-2.239-143.636,1.3 c11.809-38.831,35.365-70.73,70.817-92.018C263.623,288.079,288.16,319.826,300.098,358.961z"
                  />
                </g>
              </g>
            </g>
          </svg>
          <span id="timeLeft">{{ timeLeft }}</span>
        </div>
      </div>
    </ng-content>
    <canvas
      #canvas
      id="drawingCanvas"
      (mousedown)="start($event)"
      (mouseup)="stop($event)"
      (mousemove)="draw($event)"
      (mouseleave)="leaveCanvas($event)"
      (mouseenter)="enterCanvas($event)"
      (touchstart)="start($event)"
      (touchmove)="draw($event)"
      (touchend)="stop($event)"
    ></canvas>
  </div>
</div>
